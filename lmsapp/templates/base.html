{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
	<head>
    <title>Ease Learn</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
		{% tailwind_css %}
	</head>

    <nav class="relative flex w-full flex-wrap items-center justify-between bg-neutral-100 shadow-lg hover:text-neutral-700 py-4">
    <div class="flex w-full flex-wrap items-center justify-between px-8">

      <!--Icon-->
      <div>
        <a class="flex items-center justify-between" href="#">
          <span class="material-symbols-outlined text-5xl">
            school
            </span>
            <span class="self-center text-2xl font-semibold pl-2">Ease Learn</span>
        </a>
      </div>
      {% if user.is_authenticated %}
      <!-- User menu -->
      <div class="flex items-center order-2 relative">
        <button type="button" class="flex text-sm focus:ring-4 focus:ring-gray-200" id="profile-button" aria-expanded="false">
          <span class="sr-only">User menu</span>
          <img class="w-9 h-9 rounded-full" src="https://flowbite.com/docs/images/logo.svg" alt="profile photo">
          <span class="pl-2 py-2 text-sm text-gray-900">{{ user.username }}</span>
        </button>
        <div class="z-100 hidden my-2 text-base list-none bg-white divide-y divide-gray-200 rounded-lg shadow absolute top-full right-1">
          <ul class="py-2" aria-labelledby="profile-button">
            <li>
              <a href="#" class="block px-5 py-3 text-sm text-gray-800 hover:bg-gray-200">Profile Page</a>
            </li>
            <li>
              <a href="#" class="block px-5 py-3 text-sm text-gray-800 hover:bg-gray-200">Update Profile</a>
            </li>
            <li>
              <a href="#" class="block px-5 py-3 text-sm text-gray-800 hover:bg-gray-200 truncate">Settings</a>
            </li>
            <li>
              <a href="#" class="block px-5 py-3 text-sm text-gray-800 hover:bg-gray-200">Log out</a>
            </li>
          </ul>
        </div>
    </div>

    {% else %}
    <div class="flex items-center order-2 relative">
      <a href="{% url 'login_form' %}" class="text-blue-500 text-sm px-5 py-3">Login</a>
      <a href="{% url 'signup_form' %}" class="text-white text-sm bg-blue-700 rounded-lg px-5 py-3 hover:bg-blue-800">Signup</a>
      
    </div>
    {% endif %}
    <div class="items-center justify-between flex w-auto order-1">
      <ul class="flex font-medium space-x-9 flex-row md:border-0">
        <li>
          <a href="#" class="block text-gray-800" aria-current="page">Home</a>
        </li>
        <li>
          <a href="#" class="block text-gray-800 hover:text-blue-600">Courses</a>
        </li>
        <li>
          <a href="#" class="block text-gray-800 hover:text-blue-600">Chat</a>
        </li>
        <li>
          <a href="#" class="block text-gray-800 hover:text-blue-600">Contact</a>
        </li>
      </ul>
    </div>


    </div>
  </nav>
  
	<body class="bg-gray-50 font-serif">
		<div class="container mx-auto">
			<section class="flex items-center justify-center h-screen">
                {% block content %}
                {% endblock %}
			</section>
		</div>
	</body>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
        var profileButton = document.getElementById('profile-button');
        var profile = document.querySelector('.hidden');

        profileButton.addEventListener('click', function() {
            var expanded = profile.getAttribute('aria-expanded') === 'true' || false;
            profile.setAttribute('aria-expanded', !expanded);
            profile.classList.toggle('hidden');
        });
        /* click anywhere else to close menu */
        document.addEventListener('click', function(event) {
        const isClickInside = profile.contains(event.target) || profileButton.contains(event.target);
        if (!isClickInside) {
          profileButton.setAttribute('aria-expanded', 'false');
          profile.classList.add('hidden');
        }
  });
  });



  </script>
</html>
